"use strict";!function(){angular.module("app",[])}(),function(){function r(r){return m=r,{getNeighboursCount:u,getNewPixelColor:n,run:e,getScore:s}}function e(r){S=r}function o(){C=m(function(){for(var r=u(S),e=0;e<S.length;e++)for(var o=0;o<S[e].pixels.length;o++){var n=S[e].pixels[o],t=r[e*S[e].pixels.length+o];n.color=f(n,t.red,t.blue)}},v,h).then(function(){w=!1})}function n(r){return w?r.color:d?t(r):l(r)}function t(r){var e="white"!==r.color?"white":"blue";return d=--g>0,e}function l(r){var e="white"!==r.color?"white":"red";return 0===--x&&i(),e}function i(){d=!0,w=!0,g=a,x=a,o()}function u(){for(var r=[],e=0;e<S.length;e++)for(var o=0;o<S[e].pixels.length;o++){var n=c(e,o);r.push(n)}return r}function c(r,e){var o=p(r,e),n=o.map(function(r){return r.color}).reduce(function(r,e){return r[e]=++r[e]||1,r},{});return n}function s(){if(!S)return{red:0,blue:0};for(var r=[],e=0;e<S.length;e++)for(var o=0;o<S[e].pixels.length;o++)r.push(S[e].pixels[o]);var n=r.map(function(r){return r.color}).reduce(function(r,e){return r[e]=++r[e]||1,r},{white:0,red:0,blue:0});return n}function p(r,e){var o=r===S.length-1?0:r+1,n=0===r?S.length-1:r-1,t=0===e?S[0].pixels.length-1:e-1,l=e===S[0].pixels.length-1?0:e+1,i=[];return i.push(S[n].pixels[t]),i.push(S[n].pixels[e]),i.push(S[n].pixels[l]),i.push(S[r].pixels[t]),i.push(S[r].pixels[l]),i.push(S[o].pixels[t]),i.push(S[o].pixels[e]),i.push(S[o].pixels[l]),i}function f(r,e,o){var n=e||0,t=o||0,l=n+t;return"white"===r.color&&n+t===3?n>t?"red":"blue":"white"!==r.color&&(l<2||l>3)?"white":r.color}angular.module("app").factory("golService",["$interval",r]);var a=5,h=15,v=400,g=a,x=a,d=!0,w=!1,m=0,C=void 0,S=void 0}(),function(){function r(){return{restrict:"E",templateUrl:"app/pixels/pixels.html",controller:"PixelsController",controllerAs:"vm",scope:{rows:"&",getColorStyle:"&",pixelClicked:"&"},bindToController:!0}}function e(r,e,l){var i=this,u=[25,25];i.rows=t(u[0],u[1]),i.getColorStyle=n,l.run(i.rows),i.pixelClicked=function(r){o(r,l.getNewPixelColor(r))}}function o(r,e){r.color=e}function n(r){return{"background-color":r.color}}function t(r,e){for(var o=[],n=0;n<r;n++)o.push({pixels:l(e)});return o}function l(r){for(var e=[],o=0;o<r;o++)e.push(i(u()));return e}function i(r){return{color:r}}function u(){return"white"}angular.module("app").directive("pixels",r).controller("PixelsController",["$interval","$timeout","golService",e])}(),function(){function r(){return{restrict:"E",templateUrl:"app/score/score.html",controller:"ScoreController",controllerAs:"vm",scope:{score:"&"},bindToController:!0}}function e(r,e){var o=this;o.color="red",o.score=e.getScore(),r(function(){o.score=e.getScore()},1e3)}angular.module("app").directive("score",r).controller("ScoreController",["$interval","golService",e])}();