"use strict";!function(){angular.module("app",[])}(),function(){function r(r){return w=r,{getNeighboursCount:u,getNewPixelColor:o,run:e}}function e(r){m=r}function n(){C=w(function(){for(var r=u(m),e=0;e<m.length;e++)for(var n=0;n<m[e].pixels.length;n++){var o=m[e].pixels[n],t=r[e*m[e].pixels.length+n];o.color=s(o,t.red,t.blue)}},a,h).then(function(){d=!1})}function o(r){return d?r.color:g?t(r):l(r)}function t(r){var e="white"!==r.color?"white":"blue";return g=--x>0,e}function l(r){var e="white"!==r.color?"white":"red";return 0===--v&&i(),e}function i(){g=!0,d=!0,x=f,v=f,n()}function u(){for(var r=[],e=0;e<m.length;e++)for(var n=0;n<m[e].pixels.length;n++){var o=c(e,n);r.push(o)}return r}function c(r,e){var n=p(r,e),o=n.map(function(r){return r.color}).reduce(function(r,e){return r[e]=++r[e]||1,r},{});return o}function p(r,e){var n=r===m.length-1?0:r+1,o=0===r?m.length-1:r-1,t=0===e?m[0].pixels.length-1:e-1,l=e===m[0].pixels.length-1?0:e+1,i=[];return i.push(m[o].pixels[t]),i.push(m[o].pixels[e]),i.push(m[o].pixels[l]),i.push(m[r].pixels[t]),i.push(m[r].pixels[l]),i.push(m[n].pixels[t]),i.push(m[n].pixels[e]),i.push(m[n].pixels[l]),i}function s(r,e,n){var o=e||0,t=n||0,l=o+t;return"white"===r.color&&o+t===3?o>t?"red":"blue":"white"!==r.color&&(l<2||l>3)?"white":r.color}angular.module("app").factory("golService",["$interval",r]);var f=5,h=15,a=400,x=f,v=f,g=!0,d=!1,w=0,C=void 0,m=void 0}(),function(){function r(){return{restrict:"E",templateUrl:"app/pixels/pixels.html",controller:"PixelsController",controllerAs:"vm",scope:{rows:"&",getColorStyle:"&",pixelClicked:"&"},bindToController:!0}}function e(r,e,l){var i=this,u=[25,25];i.rows=t(u[0],u[1]),i.getColorStyle=o,l.run(i.rows),i.pixelClicked=function(r){n(r,l.getNewPixelColor(r))}}function n(r,e){r.color=e}function o(r){return{"background-color":r.color}}function t(r,e){for(var n=[],o=0;o<r;o++)n.push({pixels:l(e)});return n}function l(r){for(var e=[],n=0;n<r;n++)e.push(i(u()));return e}function i(r){return{color:r}}function u(){return"white"}angular.module("app").directive("pixels",r).controller("PixelsController",["$interval","$timeout","golService",e])}();